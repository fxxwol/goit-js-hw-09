{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,UAG/BH,EAAKC,KAAKG,iBAAiB,UAsB3B,SAAsBC,GACpBA,EAAEC,iBACF,MAAMC,EAAW,IAAIC,SAASR,EAAKC,MACnC,IAAK,MAAOQ,EAAKC,KAAUH,EACzBI,EAAKF,IAAQC,EAGf,IAAK,IAAIE,EAAI,EAAGA,GAAKD,EAAKE,OAAQD,IAChCE,EAAcF,EAAGD,EAAKI,OAAOC,KAAKC,GAC/BC,MAAMC,GACTR,EAAKI,OAASJ,EAAKS,I,IA9BvB,MAAMC,EAAW,IAAIb,SAASR,EAAKC,MAC7BU,EAAO,GAEb,IAAK,MAAOW,EAAKC,KAAUF,EACzBV,EAAK,GAAGW,KAASC,EAGnB,SAAST,EAAcU,EAAUT,GAC/B,OAAO,IAAIU,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAQ,uBAAqBF,QAAiBT,OAE5CY,EAAK,sBAAoBH,QAAeT,MAAU,GAErDA,EAAM,G,CAwBb,SAASE,EAAUc,GACjBjC,EAAAkC,OAAOC,QAAQ,GAAGF,I,CAIpB,SAASZ,EAAQY,GACfjC,EAAAkC,OAAOE,QAAQ,GAAGH,I,CAXpBjC,EAAAkC,OAAOG,KAAK,CACVC,SAAS,EACTC,SAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector('.form')\n}\n\nrefs.form.addEventListener('submit', onSubmitForm)\n\nconst formData = new FormData(refs.form);\nconst data = {}\n\nfor (const [key, value] of formData) {\n  data[`${key}`] = value\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`)\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`)\n      }\n    }, delay)\n  })\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const formData = new FormData(refs.form);\n  for (const [key, value] of formData) {\n    data[key] = +value\n  }\n\n  for (let i = 1; i <= data.amount; i++) { \n    createPromise(i, data.delay).then(onSuccess)\n      .catch(onError);\n    data.delay += data.step\n  }\n\n}\n\nNotify.init({\n  useIcon: false,\n  fontSize: '18px',\n})\n\nfunction onSuccess(res) { \n  Notify.success(`${res}`)\n\n}\n\nfunction onError(res) { \n  Notify.failure(`${res}`)\n}"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","addEventListener","e","preventDefault","formData1","FormData","key1","value1","$47d4ff9957288465$var$data","i","amount","$47d4ff9957288465$var$createPromise","delay","then","$47d4ff9957288465$var$onSuccess","catch","$47d4ff9957288465$var$onError","step","$47d4ff9957288465$var$formData","key","value","position","Promise","resolve","reject","setTimeout","Math","random","res","Notify","success","failure","init","useIcon","fontSize"],"version":3,"file":"03-promises.53ca0da2.js.map"}